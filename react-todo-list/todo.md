作为 React 初学者，以下是一些基于这个 TodoList 的进阶需求，会让你遇到并解决一些常见的 React 陷阱：

1. **添加新任务功能**：

   - 添加一个输入框和"添加"按钮 111
   - 处理表单提交事件 111
   - 处理空输入验证 111
   - 实现自动生成唯一 ID（不要直接使用数组索引作为 key）111
   - 改一个好看点的样式好吗 111

2. **编辑任务功能**：

   - 添加编辑模式切换 111
   - 处理编辑过程中的状态管理 111
   - 实现取消编辑功能 111【不够优雅
   - 键盘保存编辑模式 111

3. **使用 localStorage 持久化**：

   - 在组件挂载时从 localStorage 加载数据 111
   - 在数据变化时同步到 localStorage 111
   - 处理 JSON 解析可能的错误 111

4. **添加过滤功能**：

   - 实现"全部"、"已完成"、"未完成"过滤 111
   - 学习使用派生状态而不是多个状态变量 111

5. **实现任务完成状态切换**：

   - 添加复选框组件 111
   - 处理复选框状态变化 111

6. **批量操作**：

   - 添加"全选"功能 111
   - 添加"清除已完成"功能 111
   - 练习使用 reduce 和 filter 等数组方法 111

7. **优化性能**：

   - 使用 React.memo 避免不必要的重渲染 111
   - 合理使用 useCallback 和 useMemo 111
   - 了解依赖数组的陷阱 111

8. **添加拖拽排序功能**：

   - 实现简单的拖拽交互 111
   - 处理数组顺序变更 111
   - 学习 React 中 DOM 操作的正确方式 111

9. **添加动画效果**：

   - 实现添加/删除项目的过渡动画
   - 了解 React 中处理动画的挑战

10. **拆分组件**：

    - 将 TodoItem 拆分为独立组件 111
    - 学习 props 传递和组件通信 111
    - 处理组件重用的状态管理问题 111

11. **使用 Context API**：

    - 创建 TodoContext111
    - 避免 props drilling（属性传递链过长）111
    - 了解 Context 的性能影响 111

12. **添加错误边界**：
    - 实现错误捕获组件 111 errorboundary 只能在运行时捕获
    - 处理可能的运行时错误 111 需要手动 try catch 然后 setError 结合 div 显示

这些需求会让你遇到并解决很多 React 初学者常见的问题。想要我详细展开其中某一个功能的实现吗？

useTransition 练习:
我很乐意为你提供几个关于 `useTransition` 的编码题，这些题目会涉及到 `useTransition` 的常见陷阱和坑点。

## 题目 1: 实现带防抖搜索的数据表格

**要求：**
实现一个带搜索功能的数据表格组件，满足以下条件：

1. 当用户输入搜索词时，使用 `useTransition` 处理搜索结果更新 111
2. 实现搜索防抖，避免每次按键都触发搜索 111
3. 处理"闭包陷阱"问题，确保始终使用最新的搜索词 111

**坑点：**

- 防抖函数与 `useTransition` 的配合使用
- 闭包捕获导致使用过时的搜索词

题目 1: 实现一个延迟加载的列表
需求：

使用 useTransition 来管理列表的懒加载。111

当用户滚动到底部时，自动加载更多列表项，但加载项是异步的。使用 useTransition 来保持页面的流畅性。111

列表每次加载更多项时，要有延迟（模拟网络请求）。需要在加载时展示一个“加载更多”的指示器。111

坑：

useTransition 如何确保在网络请求时不会阻塞主线程？111

如何确保“加载更多”指示器正确地出现在用户滚动到底部时？111

